<!DOCTYPE html><html><head>	<meta charset="UTF-8">	<meta name="viewport" content="width=device-width, initial-scale=1.0">	<title>Âm Văn</title>	<link rel="icon"				href="https://cdn.dribbble.com/userupload/15667284/file/original-892b4ceefc5053379d9dcfede449e8cf.png?resize=1563x1563">	<link rel="preconnect" href="https://fonts.googleapis.com"/>	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>	<link			href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap"			rel="stylesheet"	/>	<link			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"			rel="stylesheet"	/>	<link			href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.3.2/mdb.min.css"			rel="stylesheet"	/>	<style>      html, body {          height: 100%;          margin: 0;      }      body {          font-family: 'Be Vietnam Pro', sans-serif;      }      button {          width: 100%;      }      .btn-primary {          transition: all .2s;      }      .btn-primary:hover {					filter: brightness(1.1);      }      select:focus,      input:focus,      textarea:focus {          border: 2px solid #7c9e64 !important;      }      @media only screen and (max-width: 776px) {          .fixed-bottom {              display: none;          }      }      .audio-player {          width: 100%;          margin-top: 15px;          margin-left: 20px;      }      .progress {          height: 10px;          background-color: #ccc;          width: 140px;          border-radius: 20px;      }      .progress-bar {          width: 0;          height: 100%;          background-color: #7c9e64;      }      #current-time,      #total-time {          font-size: 14px;      }	</style></head><body><div class="container-fluid p-0">	<div class="container">		<form method="post" class="flex-grow-1 d-flex flex-column">			<nav class="navbar navbar-expand-lg navbar-light rounded-5 mt-3" style="background-color: #fff;			box-shadow:		 rgba(9, 30, 66, 0.25) 0px 4px 8px -2px, rgba(9, 30, 66, 0.08) 0px 0px 0px 1px;">				<div class="container-fluid justify-content-between">					<div class="d-flex">						<a class="navbar-brand ms-2 mb-1 d-flex align-items-center" href="#">							<img									src="https://cdn.dribbble.com/userupload/15667284/file/original-892b4ceefc5053379d9dcfede449e8cf.png?resize=1563x1563"									height="50"									loading="lazy"									style="margin-top: 2px; border-radius: 20%"							/>						</a>					</div>					<ul class="navbar-nav flex-row d-md-flex">						<li class="nav-item me-lg-1 active">							<audio id="audioPlayer" controls class="d-none">								<source src="{{ audio_link }}" type="audio/wav">							</audio>							<a type="button" class="btn btn-primary btn-rounded btn-lg"								 onclick="togglePlay()"								 data-mdb-ripple-init								 style="background-color: #266041">								<i id="playIcon" class="fas fa-play"></i>							</a>						</li>						<li class="nav-item">							<div class="audio-player">								<div class="progress">									<div class="progress-bar" id="progress-bar"></div>								</div>								<div class="d-flex">									<div id="current-time" class="me-5">0:00</div>									<div id="total-time" class="ms-4">0:00</div>								</div>							</div>						</li>					</ul>					<ul class="navbar-nav flex-row">						<li class="nav-item dropdown me-3 me-lg-1">							<a									data-mdb-dropdown-init									class="nav-link dropdown-toggle hidden-arrow"									href="#"									id="navbarDropdownMenuLink"									role="button"									aria-expanded="false"							>								<i class="fas fa-ellipsis-vertical fa-lg"></i>							</a>							<ul									class="dropdown-menu dropdown-menu-end"									aria-labelledby="navbarDropdownMenuLink"							>								<li>									<a class="dropdown-item" href="#" onclick="downloadAudio()">Tải về file audio</a>								</li>								<li>									<a class="dropdown-item" href="#">Lưu văn bản</a>								</li>								<li>									<a class="dropdown-item" href="https://forms.gle/edAcef4mbB291Qgi7" target="_blank">Phản ánh trải										nghiệm</a>								</li>							</ul>						</li>					</ul>				</div>			</nav>			<div class="container">				<div class="row">					<div class="col-12 p-4 border-right d-flex flex-column">						{% csrf_token %}						<div class="form-group">							<label for="speed" class="mb-1 text-dark">Tải lên file .txt:</label>							<input type="file" id="fileInput" class="form-control form-control-lg mt-1 mb-1 border border-2"										 accept=".txt" onchange="loadFile(event)">						</div>						<div class="row d-flex align-items-center mt-2 mb-4">							<div class="form-group col-6 col-md-6">								<label for="voice" class="mb-1 text-dark">Giọng đọc:</label>								<select id="voice" name="voice" class="form-control form-control-lg border border-2">									<option class="text-center" value="female_north"													{% if request.POST.voice == "female_north" %}selected{% endif %}>Nữ Bắc									</option>									<option class="text-center" value="female_central"													{% if request.POST.voice == "female_central" %}selected{% endif %}>Nữ Trung									</option>									<option class="text-center" value="female_south"													{% if request.POST.voice == "female_south" %}selected{% endif %}>Nữ Nam									</option>									<option class="text-center" value="male_north"													{% if request.POST.voice == "male_north" %}selected{% endif %}>Nam Bắc									</option>									<option class="text-center" value="male_central"													{% if request.POST.voice == "male_central" %}selected{% endif %}>Nam Trung									</option>									<option class="text-center" value="male_south"													{% if request.POST.voice == "male_south" %}selected{% endif %}>Nam Nam									</option>								</select>							</div>							<div class="form-group col-6 col-md-6">								<label for="speed" class="mb-1 text-dark">Tốc độ nói:</label>								<input type="number" id="speed" name="speed" class="form-control form-control-lg border border-2								text-center"											 value="1"											 min="0.5"											 max="2"											 step="0.1">							</div>						</div>						<div class="form-group flex-grow-1 d-flex flex-column">                    <textarea id="text" name="text" class="form-control flex-grow-1 border border-2" rows="20"															placeholder="Nhập văn bản muốn chuyển đổi">{{ request.POST.text }}</textarea>						</div>						<div class="row">							<div class="col-6">								<button type="button" class="btn btn-primary btn-rounded mt-4 btn-lg" onclick="clearTextarea()"												data-mdb-ripple-init style="background-color: #7c9e64">Làm mới								</button>							</div>							<div class="col-6">								<button type="submit" class="btn btn-primary btn-rounded btn-lg mt-4" data-mdb-ripple-init												style="background-color: #266041">Chuyển đổi								</button>							</div>						</div>						<input type="hidden" name="action" value="convert">					</div>				</div>			</div>		</form>	</div></div><div class="fixed-bottom mb-2" style="z-index: -1">	<img			src="https://cdn.dribbble.com/userupload/15660176/file/original-062734b586e3b686be6441ddc22e0947.png?resize=1563x1563"			alt="QR Feedback"			height="220"	></div><script>    const audioPlayer = document.getElementById('audioPlayer');    const playIcon = document.getElementById('playIcon');    const progressBar = document.getElementById('progress-bar');    const currentTime = document.getElementById('current-time');    const totalTime = document.getElementById('total-time');    let isPlaying = false;    let progressInterval;    function togglePlay() {        if (isPlaying) {            audioPlayer.pause();        } else {            audioPlayer.play();        }        isPlaying = !isPlaying;        updatePlayIcon();    }    function updatePlayIcon() {        playIcon.className = isPlaying ? 'fas fa-pause' : 'fas fa-play';    }    audioPlayer.addEventListener('play', () => {        isPlaying = true;        updatePlayIcon();        startProgress();    });    audioPlayer.addEventListener('pause', () => {        isPlaying = false;        updatePlayIcon();        clearInterval(progressInterval);    });    audioPlayer.addEventListener('ended', () => {        isPlaying = false;        updatePlayIcon();        clearInterval(progressInterval);        resetProgress();    });    function startProgress() {        function updateProgress() {            const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;            progressBar.style.width = `${progress}%`;            currentTime.textContent = formatTime(audioPlayer.currentTime);            totalTime.textContent = formatTime(audioPlayer.duration);            if (!audioPlayer.paused && isPlaying) {                requestAnimationFrame(updateProgress);            }        }        updateProgress();    }    function resetProgress() {        progressBar.style.width = '0';        currentTime.textContent = '0:00';        totalTime.textContent = '0:00';    }    function formatTime(time) {        const minutes = Math.floor(time / 60);        const seconds = Math.floor(time % 60);        return `${minutes}:${seconds.toString().padStart(2, '0')}`;    }    function downloadAudio() {        const audioSrc = audioPlayer.src;        if (audioSrc) {            const a = document.createElement('a');            a.href = audioSrc;            a.download = a.href;            document.body.appendChild(a);            a.click();            document.body.removeChild(a);        }    }    function clearTextarea() {        document.getElementById('text').value = '';    }    function loadFile(event) {        const file = event.target.files[0];        if (file) {            const reader = new FileReader();            reader.onload = function (e) {                document.getElementById('text').value = e.target.result;            };            reader.readAsText(file);        }    }</script><script		type="text/javascript"		src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.3.2/mdb.umd.min.js"></script></body></html>